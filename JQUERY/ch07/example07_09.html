<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>사용자 효과</title>
<style>
#region { 
  position: relative; width: 300px; height:auto;
  overflow:hidden;  margin:auto;
}

#images{
  width: 1200px; height:auto;
}
#images a { display:block; float:left; width: 300px; box-sizing: border-box; 
position:relative; }
#images a img { 
	display:block;	
  width:300px; height:auto; 
  border:0; position: relative;}

#direction {
  width: 360px;  margin:auto;
}
.leftbtn{margin-top:10px;}
.rightbtn{margin-left:290px;margin-top:10px;}
</style>
<script src="https://code.jquery.com/jquery-latest.js" type="text/javascript"></script>
<script type="text/javascript">
//high level effect animate()
$(document).ready(function(){
	var wd = $("#images a img").width();	//하나의 이미지의 폭
	var len = $("#images a img").length;	//이미지의 개수
	var mx = wd*(len-1)*-1;	//슬라이딩의 최대 이동폭
    //여기 부터
    //이미지의 개수에 따라 버튼이 생성되고, 스타일이 자동 설정됨
    
    //여기 까지
    $("#btn_box button").click(function(){
        $("#images").not(":animated").animate({"margin-left":$(this).index()*wd*-1+"px"}, 600);
    });

    //여기부터 이미지에 대한 자동 설정

    //여기까지 이미지에 대한 자동 설정

	//stop(), clearQueue(), not(":animated"), delay(), animated() - 사용자 정의 애니메이션
	$(".leftbtn").click(function(){	//왼쪽 슬라이딩 버튼을 누르면
		var ml = parseInt($("#images").css("margin-left"));	//현재 이미지 박스의 왼쪽 마진을 계산
		if(ml<0) {	//현재 첫 번째 이미지가 보이고 있는 경우 왼쪽 슬라이딩 방지
			$("#images").not(":animated").animate({"margin-left":"+="+wd+"px"}, 600);
		}	
	});  //-=(감산), +=(가산)
	$(".rightbtn").click(function(){
		var ml = parseInt($("#images").css("margin-left"));
		if(ml > mx) {	//현재 마지막 이미지가 보이고 있는 경우 오른쪽 슬라이딩 방지
			$("#images").not(":animated").animate({"margin-left":"-="+wd+"px"}, 600);
		}
	});
});
</script>
</head>
<body>
	<div id="region">
		<div id="images">
			<a href="#"><img src="../image2.jpg" id="image1" title="유진"/></a> 
			<a href="#"><img src="../image1.jpg" id="image2" title="가을"/></a>
			<a href="#"><img src="../image3.jpg" id="image3" title="레이"/></a>
			<a href="#"><img src="../image2.jpg" id="image4" title="리즈"/></a>
		</div>
	</div>
	<div id="direction">
		<button class="leftbtn">&laquo;</button>
		<button class="rightbtn">&raquo;</button>
	</div>
    <div id="btn_box">

    </div>
</body>
</html>